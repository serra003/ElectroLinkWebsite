<!DOCTYPE html>
<html lang="az">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>M…ôhsul Detallƒ± - ElectroLink.az</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>

  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            primary: '#0066FF',
            secondary: '#FF6B35',
            navyDark: '#0A1628',
            navyBox: '#1A2942',
          }
        }
      }
    }
  </script>

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');
    * { font-family: 'Inter', sans-serif; }
    
    .thumbnail {
      cursor: pointer;
      transition: all 0.3s ease;
      opacity: 0.6;
    }
    
    .thumbnail.active {
      opacity: 1;
      border-color: #0066FF;
    }
    
    .thumbnail:hover {
      opacity: 1;
    }
    
    .cart-badge {
      position: absolute;
      top: -8px;
      right: -8px;
      background: #FF6B35;
      color: white;
      border-radius: 50%;
      width: 22px;
      height: 22px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      font-weight: bold;
    }
    
    .notification {
      position: fixed;
      top: 100px;
      right: 20px;
      background: #10B981;
      color: white;
      padding: 16px 24px;
      border-radius: 12px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      z-index: 9999;
      animation: slideInRight 0.4s ease-out;
    }
    
    @keyframes slideInRight {
      from { transform: translateX(400px); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }
    
    .whatsapp-float {
      position: fixed;
      bottom: 25px;
      right: 25px;
      z-index: 1000;
      animation: pulse 2s infinite;
    }
    
    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }

    /* Mobile Sticky Bar */
    .mobile-sticky-bar {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: white;
      box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.1);
      z-index: 999;
      display: none;
    }

    .dark .mobile-sticky-bar {
      background: #1A2942;
    }

    @media (max-width: 768px) {
      .mobile-sticky-bar {
        display: block;
      }
      .whatsapp-float {
        bottom: 80px;
      }
      body {
        padding-bottom: 80px;
      }
    }

    /* Lightbox Styles */
    .lightbox {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.95);
      z-index: 9999;
      display: none;
      align-items: center;
      justify-content: center;
      animation: fadeIn 0.3s ease-out;
    }

    .lightbox.active {
      display: flex;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .lightbox-content {
      max-width: 90vw;
      max-height: 90vh;
      position: relative;
    }

    .lightbox-image {
      max-width: 100%;
      max-height: 90vh;
      object-fit: contain;
      border-radius: 12px;
    }

    .lightbox-nav {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(255, 255, 255, 0.2);
      border: none;
      color: white;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
    }

    .lightbox-nav:hover {
      background: rgba(255, 255, 255, 0.3);
      transform: translateY(-50%) scale(1.1);
    }

    .lightbox-prev {
      left: 20px;
    }

    .lightbox-next {
      right: 20px;
    }

    .lightbox-close {
      position: absolute;
      top: 20px;
      right: 20px;
      background: rgba(255, 255, 255, 0.2);
      border: none;
      color: white;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 28px;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
    }

    .lightbox-close:hover {
      background: rgba(255, 255, 255, 0.3);
      transform: rotate(90deg);
    }

    .lightbox-counter {
      position: absolute;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0, 0, 0, 0.7);
      color: white;
      padding: 8px 16px;
      border-radius: 20px;
      font-size: 14px;
      backdrop-filter: blur(10px);
    }

    .main-image-container {
      cursor: zoom-in;
      position: relative;
    }

    .main-image-container:hover::after {
      content: 'üîç';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 48px;
      opacity: 0.8;
      pointer-events: none;
    }
  </style>
</head>

<body class="bg-white dark:bg-navyDark text-gray-900 dark:text-gray-100 transition-colors duration-300">

  <!-- Header/Navbar -->
  <nav class="bg-white dark:bg-navyBox shadow-md sticky top-0 z-50 transition-colors">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between items-center h-20">
        
        <div class="flex items-center">
          <a href="/">
            <img id="logoImage" src="/static/images/Screenshot 2025-12-12 200551.png" alt="ElectroLink" class="h-16 w-auto">
          </a>
        </div>

        <div class="hidden md:flex space-x-8 text-lg">
          <a href="./products.html" class="text-gray-700 dark:text-gray-300 hover:text-primary font-medium transition">M…ôhsullar</a>
          <a href="./about.html" class="text-gray-700 dark:text-gray-300 hover:text-primary font-medium transition">Haqqƒ±mƒ±zda</a>
          <a href="./contact.html" class="text-gray-700 dark:text-gray-300 hover:text-primary font-medium transition">∆èlaq…ô</a>
        </div>

        <div class="flex items-center space-x-4">
          <button id="themeToggle" class="p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition">
            <i id="themeIcon" class="fas fa-moon text-2xl text-gray-700 dark:text-gray-300"></i>
          </button>
          
          <a href="./cart.html" class="relative">
            <i class="fas fa-shopping-cart text-3xl text-gray-700 dark:text-gray-300 hover:text-primary transition"></i>
            <span id="cartCount" class="cart-badge">0</span>
          </a>
          
          <button id="mobileMenuBtn" class="md:hidden text-gray-700 dark:text-gray-300">
            <i class="fas fa-bars text-2xl"></i>
          </button>
        </div>
      </div>
    </div>

    <div id="mobileMenu" class="hidden md:hidden border-t bg-white dark:bg-navyBox border-gray-200 dark:border-gray-700">
      <div class="px-4 py-4 space-y-3">
        <a href="./products.html" class="block text-gray-700 dark:text-gray-300 hover:text-primary font-medium text-lg py-2">M…ôhsullar</a>
        <a href="./about.html" class="block text-gray-700 dark:text-gray-300 hover:text-primary font-medium text-lg py-2">Haqqƒ±mƒ±zda</a>
        <a href="./contact.html" class="block text-gray-700 dark:text-gray-300 hover:text-primary font-medium text-lg py-2">∆èlaq…ô</a>
      </div>
    </div>
  </nav>

  <!-- Breadcrumb -->
  <div class="bg-gray-50 dark:bg-navyBox py-4 px-4">
    <div class="max-w-7xl mx-auto">
      <div class="flex items-center space-x-2 text-sm">
        <a href="/" class="text-gray-600 dark:text-gray-400 hover:text-primary">Ana S…ôhif…ô</a>
        <i class="fas fa-chevron-right text-xs text-gray-400"></i>
        <a href="./products.html" class="text-gray-600 dark:text-gray-400 hover:text-primary">M…ôhsullar</a>
        <i class="fas fa-chevron-right text-xs text-gray-400"></i>
        <span class="text-gray-900 dark:text-white" id="breadcrumbProduct">M…ôhsul</span>
      </div>
    </div>
  </div>

  <!-- Product Detail Section -->
  <section class="py-12 px-4">
    <div class="max-w-7xl mx-auto">
      <div class="grid md:grid-cols-2 gap-12">
        
        <!-- Left: Image Gallery -->
        <div>
          <!-- Main Image -->
          <div class="main-image-container bg-gray-100 dark:bg-navyBox rounded-3xl overflow-hidden mb-4 aspect-square" onclick="openLightbox(0)">
            <img id="mainImage" src="https://via.placeholder.com/600x600?text=Product" alt="Product" class="w-full h-full object-cover">
          </div>
          
          <!-- Thumbnails -->
          <div id="thumbnails" class="grid grid-cols-4 gap-4">
            <!-- Thumbnails will be loaded here -->
          </div>
        </div>

        <!-- Right: Product Info -->
        <div>
          <p class="text-sm text-gray-500 dark:text-gray-400 mb-2">Kod: <span id="productCode">EL-XXX</span></p>
          <h1 id="productName" class="text-4xl font-bold mb-4 text-gray-900 dark:text-white">M…ôhsul Adƒ±</h1>
          
          <div class="mb-6">
            <p class="text-5xl font-bold text-primary mb-2"><span id="productPrice">0</span> AZN</p>
            <p class="text-sm text-green-600 dark:text-green-400" id="stockStatus">
              <i class="fas fa-check-circle mr-1"></i> Stokda m√∂vcuddur
            </p>
          </div>

          <!-- Highlights -->
          <div id="highlights" class="bg-blue-50 dark:bg-navyBox rounded-2xl p-6 mb-6">
            <h3 class="text-lg font-bold mb-3 text-gray-900 dark:text-white">∆èsas X√ºsusiyy…ôtl…ôr</h3>
            <ul class="space-y-2 text-gray-700 dark:text-gray-300">
              <!-- Highlights will be loaded here -->
            </ul>
          </div>

          <!-- Quantity Selector -->
          <div class="flex items-center space-x-4 mb-6">
            <p class="text-lg font-semibold text-gray-900 dark:text-white">Miqdar:</p>
            <div class="flex items-center border-2 border-gray-300 dark:border-gray-600 rounded-lg">
              <button onclick="decreaseQty()" class="px-4 py-2 text-2xl text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">‚àí</button>
              <input type="number" id="quantity" value="1" min="1" class="w-16 text-center text-xl font-semibold bg-transparent border-none outline-none text-gray-900 dark:text-white" readonly>
              <button onclick="increaseQty()" class="px-4 py-2 text-2xl text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">+</button>
            </div>
          </div>

          <!-- Action Buttons (Desktop) -->
          <div class="hidden md:grid grid-cols-1 md:grid-cols-2 gap-4 mb-8">
            <button onclick="orderNow()" class="bg-gradient-to-r from-primary to-blue-600 text-white px-8 py-5 rounded-xl text-xl font-bold hover:shadow-2xl transform hover:scale-105 transition">
              <i class="fab fa-whatsapp mr-2"></i> ƒ∞ndi Sifari≈ü Et
            </button>
            <button onclick="addToCart()" class="bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white px-8 py-5 rounded-xl text-xl font-bold hover:bg-gray-300 dark:hover:bg-gray-600 transition">
              <i class="fas fa-shopping-cart mr-2"></i> S…ôb…ôt…ô At
            </button>
          </div>

          <!-- Warranty Info -->
          <div class="border-t border-gray-200 dark:border-gray-700 pt-6">
            <div class="grid grid-cols-3 gap-4 text-center">
              <div>
                <i class="fas fa-shield-alt text-3xl text-primary mb-2"></i>
                <p class="text-sm font-semibold text-gray-700 dark:text-gray-300">12 Ay Z…ôman…ôt</p>
              </div>
              <div>
                <i class="fas fa-truck text-3xl text-primary mb-2"></i>
                <p class="text-sm font-semibold text-gray-700 dark:text-gray-300">Pulsuz √áatdƒ±rƒ±lma</p>
              </div>
              <div>
                <i class="fas fa-headset text-3xl text-primary mb-2"></i>
                <p class="text-sm font-semibold text-gray-700 dark:text-gray-300">24/7 D…ôst…ôk</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Description & Specifications -->
      <div class="mt-16">
        <div class="grid md:grid-cols-2 gap-8">
          
          <!-- Description -->
          <div class="bg-gray-50 dark:bg-navyBox rounded-3xl p-8">
            <h2 class="text-3xl font-bold mb-6 text-gray-900 dark:text-white">T…ôsvir</h2>
            <div id="description" class="text-gray-700 dark:text-gray-300 leading-relaxed">
              <!-- Description will be loaded here -->
            </div>
          </div>

          <!-- Specifications -->
          <div class="bg-gray-50 dark:bg-navyBox rounded-3xl p-8">
            <h2 class="text-3xl font-bold mb-6 text-gray-900 dark:text-white">Texniki X√ºsusiyy…ôtl…ôr</h2>
            <div id="specifications" class="space-y-3">
              <!-- Specifications will be loaded here -->
            </div>
          </div>
        </div>
      </div>

      <!-- Related Products -->
      <div class="mt-16">
        <h2 class="text-4xl font-bold mb-8 text-gray-900 dark:text-white">Ox≈üar M…ôhsullar</h2>
        <div id="relatedProducts" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
          <!-- Related products will be loaded here -->
        </div>
      </div>
    </div>
  </section>

  <!-- Mobile Sticky Bar -->
  <div class="mobile-sticky-bar">
    <div class="flex items-center p-4 gap-3">
      <a href="./cart.html" class="flex-1 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white py-4 rounded-xl font-bold text-center hover:bg-gray-300 dark:hover:bg-gray-600 transition">
        <i class="fas fa-shopping-cart mr-2"></i> S…ôb…ôt
      </a>
      <a href="https://wa.me/994105051615" target="_blank" class="flex-1 bg-green-500 text-white py-4 rounded-xl font-bold text-center hover:bg-green-600 transition">
        <i class="fab fa-whatsapp mr-2"></i> WhatsApp
      </a>
    </div>
  </div>

  <!-- Footer -->
  <footer class="bg-gray-900 text-white py-12 px-4 mt-16">
    <div class="max-w-7xl mx-auto">
      <div class="grid md:grid-cols-4 gap-8 mb-8">
        <div>
          <h3 class="text-xl font-bold mb-4">∆èlaq…ô</h3>
          <p class="mb-2"><i class="fas fa-phone mr-2"></i> +994 10 505 16 15</p>
          <p class="mb-2"><i class="fas fa-map-marker-alt mr-2"></i> Bakƒ±, Az…ôrbaycan</p>
        </div>
        <div>
          <h3 class="text-xl font-bold mb-4">ƒ∞≈ü Saatlarƒ±</h3>
          <p>B.e - C√ºm…ô: 09:00 - 18:00</p>
          <p>≈û…ônb…ô: 10:00 - 16:00</p>
          <p>Bazar: Baƒülƒ±</p>
        </div>
        <div>
          <h3 class="text-xl font-bold mb-4">Menyular</h3>
          <ul class="space-y-2">
            <li><a href="./warranty.html" class="hover:text-primary">Z…ôman…ôt v…ô Qaytarma</a></li>
            <li><a href="./faq.html" class="hover:text-primary">Tez-tez Veril…ôn Suallar</a></li>
          </ul>
        </div>
        <div>
          <h3 class="text-xl font-bold mb-4">Sosial ≈û…ôb…ôk…ôl…ôr</h3>
          <div class="flex space-x-4 text-3xl">
            <a href="https://www.instagram.com/electrolink.az/" target="_blank" class="hover:text-primary"><i class="fab fa-instagram"></i></a>
            <a href="https://www.tiktok.com/@electrolink.az" target="_blank" class="hover:text-primary"><i class="fab fa-tiktok"></i></a>
            <a href="https://wa.me/994105051615" target="_blank" class="hover:text-primary"><i class="fab fa-whatsapp"></i></a>
          </div>
        </div>
      </div>
      <div class="border-t border-gray-700 pt-8 text-center">
        <p class="mb-2">¬© 2024 ElectroLink.az - B√ºt√ºn h√ºquqlar qorunur</p>
        <p class="text-sm text-gray-400">V√ñEN: 1234567890</p>
      </div>
    </div>
  </footer>

  <!-- Floating WhatsApp Button -->
  <a href="https://wa.me/994105051615" target="_blank" class="whatsapp-float">
    <div class="bg-green-500 text-white w-16 h-16 rounded-full flex items-center justify-center shadow-2xl hover:bg-green-600 transition">
      <i class="fab fa-whatsapp text-4xl"></i>
    </div>
  </a>

  <!-- Notification Toast -->
  <div id="notification" class="notification hidden">
    <div class="flex items-center">
      <i class="fas fa-check-circle text-2xl mr-3"></i>
      <span class="text-lg font-semibold">S…ôb…ôt…ô …ôlav…ô edildi ‚úÖ</span>
    </div>
  </div>

  <!-- Lightbox Gallery -->
  <div id="lightbox" class="lightbox">
    <button class="lightbox-close" onclick="closeLightbox()">
      <i class="fas fa-times"></i>
    </button>
    <button class="lightbox-nav lightbox-prev" onclick="navigateLightbox(-1)">
      <i class="fas fa-chevron-left"></i>
    </button>
    <div class="lightbox-content">
      <img id="lightboxImage" class="lightbox-image" src="" alt="Product Image">
      <div class="lightbox-counter">
        <span id="lightboxCounter">1 / 4</span>
      </div>
    </div>
    <button class="lightbox-nav lightbox-next" onclick="navigateLightbox(1)">
      <i class="fas fa-chevron-right"></i>
    </button>
  </div>

  <script>
    // Load product from URL or use sample data
    let product = null;
    
    // Try to get product ID from URL
    const urlParams = new URLSearchParams(window.location.search);
    const productId = urlParams.get('id') || window.location.pathname.split('/').pop();

    // Sample products data (in production, this would come from backend)
    const sampleProducts = [
      {
        id: 1,
        name: "RAF Fan qƒ±zdƒ±rƒ±cƒ± 3000W ‚Äî Model R.1407",
        code: "EL-HT001",
        category: "heaters",
        price: 49.99,
        stock: 3,
        image: "/static/images/RAF qizdirici main.png",
        images: [
          "/static/images/RAF qizdirici main.png",
          "/static/images/raf fan dayan.png",
          "/static/images/raf fan guc.png",
          "/static/images/Raf fan ust.png",
          "/static/images/raf fan.png"
        ],
        highlights: [
          "3000W g√ºcl√º fan qƒ±zdƒ±rƒ±cƒ±",
          "Adjustable termostat il…ô temperatur t…ônziml…ôm…ôsi",
          "Qƒ±zmadan qorunma sistemi (Overheating protection)",
          "A≈üaƒüƒ± s…ôs s…ôviyy…ôsi (Low noise)"
        ],
        description: "RAF R.1407 3000W fan qƒ±zdƒ±rƒ±cƒ± geni≈ü m…ôkanlarƒ±n daha s√ºr…ôtli isidilm…ôsi √º√ß√ºn n…ôz…ôrd…ô tutulmu≈ü g√ºcl√º elektrik qƒ±zdƒ±rƒ±cƒ±dƒ±r. Qaraj, usta otaƒüƒ±, anbar v…ô b√∂y√ºk i≈ü sah…ôl…ôrind…ô qƒ±sa m√ºdd…ôtd…ô istilik yaratmaq √º√ß√ºn uyƒüundur. Stendli konstruksiyasƒ± cihazƒ±n sabit yerl…ô≈üdirilm…ôsin…ô imkan verir v…ô istiliyi ist…ôdiyiniz istiqam…ôt…ô y√∂n…ôltm…ôy…ô k√∂m…ôk edir. Adjustable thermostat say…ôsind…ô temperaturu rahat t…ônziml…ôm…ôk m√ºmk√ºnd√ºr. Overheating protection sistemi t…ôhl√ºk…ôsiz istifad…ôni t…ômin edir. A≈üaƒüƒ± s…ôs s…ôviyy…ôsi is…ô h…ôm evd…ô, h…ôm d…ô i≈ü m√ºhitind…ô komfort yaradƒ±r.",
        specifications: [
          { label: "Brend", value: "RAF" },
          { label: "Model", value: "R.1407" },
          { label: "M…ôhsul tipi", value: "Fan qƒ±zdƒ±rƒ±cƒ±" },
          { label: "G√ºc", value: "3000W" },
          { label: "Termostat", value: "Var (Adjustable thermostat)" },
          { label: "T…ôhl√ºk…ôsizlik", value: "Qƒ±zmadan qorunma (Overheating protection)" },
          { label: "S…ôs s…ôviyy…ôsi", value: "A≈üaƒüƒ± s…ôs (Low noise)" },
          { label: "Z…ôman…ôt", value: "1 il" }
        ]
      },
      {
        id: 2,
        name: "Xiaomi TV Box S (3-c√º n…ôsil) ‚Äî 4K Ultra-HD (Google TV)",
        code: "EL-TVB002",
        category: "tv-box",
        price: 149.99,
        stock: 18,
        image: "/static/images/xiaotv0.png",
        images: [
          "/static/images/xiaotv0.png",
          "/static/images/xiaotv1.png",
          "/static/images/xiaotv2.png"
        ],
        highlights: [
          "4K Ultra-HD g√∂r√ºnt√º keyfiyy…ôti",
          "Google TV platformasƒ±",
          "S…ôsli idar…ôetm…ô (Voice control)",
          "Kompakt v…ô rahat qura≈üdƒ±rma"
        ],
        description: "Xiaomi TV Box S adi televizoru daha funksional smart sistem…ô √ßevirir. Google TV platformasƒ± √ºz…ôrind…ôn film v…ô serial izl…ôm…ôk, t…ôtbiql…ôrd…ôn istifad…ô etm…ôk v…ô media kontent…ô rahat √ßƒ±xƒ±≈ü m√ºmk√ºnd√ºr. Pult √ºz…ôrind…ô s…ôsli idar…ôetm…ô d√ºym…ôsi axtarƒ±≈ü v…ô naviqasiyanƒ± s√ºr…ôtl…ôndirir. 4K Ultra-HD d…ôst…ôyi uyƒüun kontent olduqda y√ºks…ôk keyfiyy…ôtli g√∂r√ºnt√º t…ôqdim edir. Ev istifad…ôsi √º√ß√ºn kompakt, s…ôliq…ôli v…ô rahat qura≈üdƒ±rƒ±lan media h…ôllidir.",
        specifications: [
          { label: "Brend", value: "Xiaomi" },
          { label: "M…ôhsul tipi", value: "Media pleyer" },
          { label: "N…ôsil", value: "3-c√º n…ôsil" },
          { label: "Platforma", value: "Google TV" },
          { label: "G√∂r√ºnt√º keyfiyy…ôti", value: "4K Ultra-HD" },
          { label: "ƒ∞dar…ôetm…ô", value: "Pult" },
          { label: "S…ôsli idar…ôetm…ô", value: "Var (Voice control)" },
          { label: "Z…ôman…ôt", value: "1 il" }
        ]
      },
      {
        id: 3,
        name: "Mini simsiz klaviatura + touchpad (Backlit) ‚Äî Mini Keyboard",
        code: "EL-ACC003",
        category: "accessories",
        price: 13.99,
        stock: 35,
        image: "/static/images/kb0.png",
        images: [
          "/static/images/kb0.png",
          "/static/images/kb1.png"
        ],
        highlights: [
          "Backlit i≈üƒ±qlandƒ±rma sistemi",
          "Daxili touchpad mouse funksiyasƒ±",
          "Multimedia idar…ôetm…ô d√ºym…ôl…ôri",
          "Touchpad h…ôssaslƒ±ƒüƒ± t…ônziml…ônir (DPI adjustable)"
        ],
        description: "Bu mini simsiz klaviatura TV Box, Smart TV v…ô PC √º√ß√ºn rahat uzaqdan idar…ôetm…ô imkanƒ± yaradƒ±r. Daxili touchpad kursor idar…ôsini s√ºr…ôtl…ôndirir, backlit d√ºym…ôl…ôr is…ô qaranlƒ±q m√ºhitd…ô istifad…ôy…ô imkan verir. Multimedia d√ºym…ôl…ôri video izl…ôy…ôrk…ôn …ôsas funksiyalara tez √ßƒ±xƒ±≈ü yaradƒ±r. Touchpad h…ôssaslƒ±ƒüƒ± t…ônziml…ôn…ô bilir v…ô kompakt √∂l√ß√ºs√º say…ôsind…ô ev v…ô ofis istifad…ôsi √º√ß√ºn idealdƒ±r.",
        specifications: [
          { label: "M…ôhsul tipi", value: "Simsiz mini klaviatura + mouse" },
          { label: "ƒ∞≈üƒ±qlandƒ±rma", value: "Backlit" },
          { label: "ƒ∞dar…ôetm…ô", value: "Touchpad" },
          { label: "Funksiya", value: "Multimedia idar…ôetm…ô" },
          { label: "Touchpad h…ôssaslƒ±ƒüƒ±", value: "T…ônziml…ôn…ôn (DPI adjustable)" },
          { label: "Z…ôman…ôt", value: "6 ay" }
        ]
      }
    ];

    // Load product by ID or use first product as default
    if (productId && !isNaN(productId)) {
      product = sampleProducts.find(p => p.id == productId) || sampleProducts[0];
    } else {
      product = sampleProducts[0];
    }

    // Theme management
    const themeToggle = document.getElementById('themeToggle');
    const themeIcon = document.getElementById('themeIcon');
    const logoImage = document.getElementById('logoImage');
    const root = document.documentElement;

    function applyTheme(theme) {
      if (theme === 'dark') {
        root.classList.add('dark');
        themeIcon.className = 'fas fa-sun text-2xl text-yellow-400';
        logoImage.src = '/static/images/actual logo.png';
      } else {
        root.classList.remove('dark');
        themeIcon.className = 'fas fa-moon text-2xl text-gray-700';
        logoImage.src = '/static/images/Screenshot 2025-12-12 200551.png';
      }
      localStorage.setItem('theme', theme);
    }

    const savedTheme = localStorage.getItem('theme') || 'light';
    applyTheme(savedTheme);

    themeToggle.addEventListener('click', () => {
      const next = root.classList.contains('dark') ? 'light' : 'dark';
      applyTheme(next);
    });

    // Cart management
    let cart = JSON.parse(localStorage.getItem('cart')) || [];
    updateCartCount();

    function updateCartCount() {
      document.getElementById('cartCount').textContent = cart.length;
    }

    // Lightbox functionality
    let currentLightboxIndex = 0;

    function openLightbox(index) {
      currentLightboxIndex = index;
      updateLightbox();
      document.getElementById('lightbox').classList.add('active');
      document.body.style.overflow = 'hidden';
    }

    function closeLightbox() {
      document.getElementById('lightbox').classList.remove('active');
      document.body.style.overflow = 'auto';
    }

    function navigateLightbox(direction) {
      currentLightboxIndex += direction;
      if (currentLightboxIndex < 0) {
        currentLightboxIndex = product.images.length - 1;
      } else if (currentLightboxIndex >= product.images.length) {
        currentLightboxIndex = 0;
      }
      updateLightbox();
    }

    function updateLightbox() {
      document.getElementById('lightboxImage').src = product.images[currentLightboxIndex];
      document.getElementById('lightboxCounter').textContent = `${currentLightboxIndex + 1} / ${product.images.length}`;
    }

    // Close lightbox on ESC key
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        closeLightbox();
      } else if (e.key === 'ArrowLeft') {
        navigateLightbox(-1);
      } else if (e.key === 'ArrowRight') {
        navigateLightbox(1);
      }
    });

    // Close lightbox when clicking outside image
    document.getElementById('lightbox').addEventListener('click', (e) => {
      if (e.target.id === 'lightbox') {
        closeLightbox();
      }
    });

    // Load product data
    function loadProduct() {
      document.getElementById('productName').textContent = product.name;
      document.getElementById('productCode').textContent = product.code;
      document.getElementById('productPrice').textContent = product.price;
      document.getElementById('breadcrumbProduct').textContent = product.name;
      document.getElementById('mainImage').src = product.images[0];
      
      // Update stock status
      const stockEl = document.getElementById('stockStatus');
      if (product.stock > 0) {
        stockEl.innerHTML = '<i class="fas fa-check-circle mr-1"></i> Stokda m√∂vcuddur';
        stockEl.className = 'text-sm text-green-600 dark:text-green-400';
      } else {
        stockEl.innerHTML = '<i class="fas fa-times-circle mr-1"></i> Stokda yoxdur';
        stockEl.className = 'text-sm text-red-600 dark:text-red-400';
      }
      
      // Load thumbnails
      const thumbnailsContainer = document.getElementById('thumbnails');
      thumbnailsContainer.innerHTML = product.images.map((img, index) => `
        <div class="thumbnail ${index === 0 ? 'active' : ''} border-4 border-transparent rounded-xl overflow-hidden" onclick="changeImage(${index})">
          <img src="${img}" alt="Thumbnail ${index + 1}" class="w-full h-full object-cover">
        </div>
      `).join('');
      
      // Load highlights
      const highlightsContainer = document.getElementById('highlights').querySelector('ul');
      highlightsContainer.innerHTML = product.highlights.map(h => `
        <li class="flex items-start">
          <i class="fas fa-check text-primary mr-2 mt-1"></i>
          <span>${h}</span>
        </li>
      `).join('');
      
      // Load description
      document.getElementById('description').textContent = product.description;
      
      // Load specifications
      const specsContainer = document.getElementById('specifications');
      specsContainer.innerHTML = product.specifications.map(spec => `
        <div class="flex justify-between py-2 border-b border-gray-200 dark:border-gray-700">
          <span class="font-semibold text-gray-900 dark:text-white">${spec.label}:</span>
          <span class="text-gray-700 dark:text-gray-300">${spec.value}</span>
        </div>
      `).join('');

      // Update page title
      document.title = `${product.name} - ElectroLink.az`;
    }

    function changeImage(index) {
      document.getElementById('mainImage').src = product.images[index];
      currentLightboxIndex = index; // Update lightbox index when changing main image
      document.querySelectorAll('.thumbnail').forEach((thumb, i) => {
        thumb.classList.toggle('active', i === index);
      });
    }

    function increaseQty() {
      const qtyInput = document.getElementById('quantity');
      qtyInput.value = parseInt(qtyInput.value) + 1;
    }

    function decreaseQty() {
      const qtyInput = document.getElementById('quantity');
      if (parseInt(qtyInput.value) > 1) {
        qtyInput.value = parseInt(qtyInput.value) - 1;
      }
    }

    function orderNow() {
      const qty = document.getElementById('quantity').value;
      const message = `Salam! A≈üaƒüƒ±dakƒ± m…ôhsulu sifari≈ü etm…ôk ist…ôyir…ôm:

${product.name}
Kod: ${product.code}
Qiym…ôt: ${product.price} AZN
Miqdar: ${qty}
Toplam: ${product.price * qty} AZN`;

      const whatsappUrl = `https://wa.me/994105051615?text=${encodeURIComponent(message)}`;
      window.open(whatsappUrl, '_blank');
    }

    function addToCart() {
      const qty = parseInt(document.getElementById('quantity').value);
      for (let i = 0; i < qty; i++) {
        cart.push({
          id: product.id,
          name: product.name,
          code: product.code,
          price: product.price,
          image: product.images[0]
        });
      }
      localStorage.setItem('cart', JSON.stringify(cart));
      updateCartCount();
      showNotification();
    }

    function showNotification() {
      const notification = document.getElementById('notification');
      notification.classList.remove('hidden');
      setTimeout(() => {
        notification.classList.add('hidden');
      }, 3000);
    }

    // Mobile menu
    document.getElementById('mobileMenuBtn').addEventListener('click', () => {
      document.getElementById('mobileMenu').classList.toggle('hidden');
    });

    // Click anywhere to hide notification
    document.addEventListener('click', (e) => {
      const notification = document.getElementById('notification');
      if (!notification.classList.contains('hidden') && !e.target.closest('.notification')) {
        notification.classList.add('hidden');
      }
    });

    // Initialize
    loadProduct();
  </script>

</body>
</html>